function AccessibleCalendarFormatDate(n){var r=new Date(n),t=r.getDate(),i=r.getMonth()+1,u=r.getFullYear();return t<10&&1==t.toString().length&&(t="0"+t),i<10&&1==i.toString().length&&(i="0"+i),i+"/"+t+"/"+u}var CalendarButtonInput=CalendarButtonInput||{},DatePickerDay=DatePickerDay||{},DatePicker=function(n,t,i,r){"ES"==document.documentElement.lang.toUpperCase()?(this.dayLabels=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],this.monthLabels=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.tHeaderLabels=["Do","Lu","Ma","Mi","Ju","Vi","Sa"]):(this.dayLabels=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.monthLabels=["January","February","March","April","May","June","July","August","September","October","November","December"],this.tHeaderLabels=["Su","Mo","Tu","We","Th","Fr","Sa"]);this.messageCursorKeys="ES"==document.documentElement.lang.toUpperCase()?"Las teclas de cursor pueden navegar por las fechas.":"Cursor keys can navigate dates.";this.lastMessage="";this.inputNode=n;this.inputNodeFormat=t;this.buttonNode=i;this.dialogNode=r;this.messageNode=r.querySelector(".accessible-datepicker-message");this.dateInput=new CalendarButtonInput(this.inputNode,this.inputNodeFormat,this.buttonNode,this);this.MonthYearNode=this.dialogNode.querySelector(".monthYear");this.okButtonNode=this.dialogNode.querySelector('button[value="ok"]');this.cancelButtonNode=this.dialogNode.querySelector('button[value="cancel"]');this.tbodyNode=this.dialogNode.querySelector("table.dates tbody");this.tHeaderNodes=this.dialogNode.querySelectorAll("table.dates th");this.lastRowNode=null;this.days=[];this.focusDay=new Date;this.selectedDay=new Date(0,0,1);this.selectMonth=this.dialogNode.querySelector(".selectMonth");this.selectMonth.value=this.focusDay.getMonth();this.selectMonth.setAttribute("aria-label","ES"==document.documentElement.lang.toUpperCase()?"Mes":"Month");this.determineMonthRangeList(this.dateInput.minDate,this.dateInput.maxDate);this.selectYear=this.dialogNode.querySelector(".selectYear");this.selectYear.value=this.focusDay.getFullYear();this.selectYear.setAttribute("aria-label","ES"==document.documentElement.lang.toUpperCase()?"Año":"Year");this.determineYearRangeList(this.dateInput.minDate.getFullYear(),this.dateInput.maxDate.getFullYear());this.isMouseDownOnBackground=!1;this.keyCode=Object.freeze({TAB:9,ENTER:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40})};DatePicker.prototype.init=function(){var n,e,t,r,u,f,i,o;for(this.dateInput.init(),this.okButtonNode.innerHTML="ES"==document.documentElement.lang.toUpperCase()?"Bien":"OK",this.okButtonNode.addEventListener("click",this.handleOkButton.bind(this)),this.okButtonNode.addEventListener("keydown",this.handleOkButton.bind(this)),this.cancelButtonNode.innerHTML="ES"==document.documentElement.lang.toUpperCase()?"Cancelar":"Cancel",this.cancelButtonNode.addEventListener("click",this.handleCancelButton.bind(this)),this.cancelButtonNode.addEventListener("keydown",this.handleCancelButton.bind(this)),this.selectMonth.addEventListener("change",this.moveToSelectedMonth.bind(this)),this.selectYear.addEventListener("change",this.moveToSelectedYear.bind(this)),this.selectMonth.addEventListener("keydown",this.handleSelectMonthTabNavigation.bind(this)),document.body.addEventListener("mousedown",this.handleBackgroundMouseDown.bind(this),!0),document.body.addEventListener("mouseup",this.handleBackgroundMouseUp.bind(this),!0),n=0;n<7;n++)this.tHeaderNodes[n].innerHTML=this.tHeaderLabels[n];for(this.tbodyNode.innerHTML="",e=0,t=0;t<6;t++)for(r=this.tbodyNode.insertRow(t),this.lastRowNode=r,r.classList.add("dateRow"),u=0;u<7;u++)f=document.createElement("td"),f.classList.add("dateCell"),i=document.createElement("button"),i.classList.add("dateButton"),i.classList.add("accessible"),f.appendChild(i),r.appendChild(f),o=new DatePickerDay(i,this,e,t,u),o.init(),this.days.push(o),e++;this.updateGrid();this.setFocusDay()};DatePicker.prototype.updateGrid=function(){var r,i,t=this.focusDay,n;this.MonthYearNode.innerHTML=this.monthLabels[t.getMonth()]+" "+t.getFullYear();var u=new Date(t.getFullYear(),t.getMonth(),1),e=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),f=u.getDay();for(u.setDate(u.getDate()-f),this.selectMonth.value=t.getMonth(),this.selectYear.value=t.getFullYear(),n=new Date(u),r=0;r<this.days.length;r++)null!=this.dateInput.maxDate&&this.dateInput.maxDate<n&&(i=!0),null!=this.dateInput.minDate&&this.dateInput.minDate>n&&(i=!0),n.getMonth()!=t.getMonth()&&(i=!0),i=null!=i&&i,this.days[r].updateDay(i,n),i=void 0,n.getFullYear()==this.selectedDay.getFullYear()&&n.getMonth()==this.selectedDay.getMonth()&&n.getDate()==this.selectedDay.getDate()&&this.days[r].domNode.setAttribute("aria-selected","true"),n.setDate(n.getDate()+1);f+e<36?this.hideLastRow():this.showLastRow()};DatePicker.prototype.determineMonthRangeList=function(n,t){var o,s,i,r=[],f,u,e;if(i=12*(t.getFullYear()-n.getFullYear()),i-=n.getMonth(),(i=(i+=t.getMonth())<=0?0:i)<12)for(f=0;f<=i;f++)o=this.dateInput.minDate.getMonth()+f,s=new Date((new Date).getFullYear(),o).getMonth(),r.push(s);else r=[0,1,2,3,4,5,6,7,8,9,10,11];for(this.selectMonth.innerHTML=null,u=0;u<r.length;u++)e=document.createElement("option"),e.value=r[u],e.innerHTML=this.monthLabels[r[u]],this.selectMonth.appendChild(e)};DatePicker.prototype.determineYearRangeList=function(n,t){for(this.selectYear.innerHTML=null;n<=t;n++){var i=document.createElement("option");i.value=n;i.innerHTML=n;this.selectYear.appendChild(i)}};DatePicker.prototype.hideLastRow=function(){this.lastRowNode.style.visibility="hidden"};DatePicker.prototype.showLastRow=function(){this.lastRowNode.style.visibility="visible"};DatePicker.prototype.setFocusDay=function(n){"boolean"!=typeof n&&(n=!0);var t=this.focusDay;this.days.forEach(function(i){i.domNode.setAttribute("tabindex","-1");i.domNode.style.backgroundColor="#EEE";i.day.getDate()==t.getDate()&&i.day.getMonth()==t.getMonth()&&i.day.getFullYear()==t.getFullYear()&&(i.domNode.setAttribute("tabindex","0"),i.domNode.style.backgroundColor="#C0D9EF",n&&i.domNode.focus())}.bind(this))};DatePicker.prototype.updateDay=function(n){var t=this.focusDay;this.focusDay=n;t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()||(this.updateGrid(),this.setFocusDay())};DatePicker.prototype.getDaysInLastMonth=function(){var n=this.focusDay;return new Date(n.getFullYear(),n.getMonth(),0).getDate()};DatePicker.prototype.getDaysInMonth=function(){var n=this.focusDay;return new Date(n.getFullYear(),n.getMonth()+1,0).getDate()};DatePicker.prototype.show=function(){this.dialogNode.style.display="block";this.dialogNode.style.zIndex=2;this.getDateInput();this.updateGrid();this.setFocusDay()};DatePicker.prototype.isOpen=function(){return"block"===window.getComputedStyle(this.dialogNode).display};DatePicker.prototype.hide=function(){this.setMessage("");this.dialogNode.style.display="none";this.hasFocusFlag=!1;this.dateInput.setFocus()};DatePicker.prototype.handleBackgroundMouseDown=function(n){this.buttonNode.contains(n.target)||this.dialogNode.contains(n.target)||(this.isMouseDownOnBackground=!0,this.isOpen()&&(this.hide(),n.stopPropagation(),n.preventDefault()))};DatePicker.prototype.handleBackgroundMouseUp=function(){this.isMouseDownOnBackground=!1};DatePicker.prototype.handleSelectMonthTabNavigation=function(n){var t=!1;"keydown"===n.type&&n.keyCode===this.keyCode.TAB&&n.shiftKey&&(this.okButtonNode.focus(),t=!0);t&&(n.stopPropagation(),n.preventDefault())};DatePicker.prototype.handleOkButton=function(n){var t=!1;switch(n.type){case"keydown":switch(n.keyCode){case this.keyCode.ENTER:case this.keyCode.SPACE:this.focusDay>=this.dateInput.minDate&&this.focusDay<=this.dateInput.maxDate?(this.setTextboxDate(),this.hide(),t=!0):this.setMessage("ES"===document.documentElement.lang.toUpperCase()?"Se alcanzó el límite de fechas disponibles.":"Reached limit of available dates.");break;case this.keyCode.TAB:n.shiftKey||(this.selectMonth.focus(),t=!0);break;case this.keyCode.ESC:this.hide();t=!0}break;case"click":this.focusDay>=this.dateInput.minDate&&this.focusDay<=this.dateInput.maxDate?(this.setTextboxDate(),this.hide(),t=!0):this.setMessage("ES"===document.documentElement.lang.toUpperCase()?"Se alcanzó el límite de fechas disponibles.":"Reached limit of available dates.")}t&&(n.stopPropagation(),n.preventDefault())};DatePicker.prototype.handleCancelButton=function(n){var t=!1;switch(n.type){case"keydown":switch(n.keyCode){case this.keyCode.ENTER:case this.keyCode.SPACE:case this.keyCode.ESC:this.hide();t=!0}break;case"click":this.hide();t=!0}t&&(n.stopPropagation(),n.preventDefault())};DatePicker.prototype.moveToSelectedMonth=function(){null==this.selectMonth.value&&null==this.selectMonth.value||(this.focusDay.setMonth(this.selectMonth.value),this.updateGrid());this.setFocusDay(!1)};DatePicker.prototype.moveToSelectedYear=function(){null==this.selectYear.value&&null==this.selectYear.value||(this.focusDay.setFullYear(this.selectYear.value),this.updateGrid());this.setFocusDay(!1)};DatePicker.prototype.moveFocusToDay=function(n){var t=this.focusDay;this.focusDay=n;t.getMonth()==this.focusDay.getMonth()&&t.getYear()==this.focusDay.getYear()||this.updateGrid();this.setFocusDay()};DatePicker.prototype.moveFocusToNextDay=function(){var n=new Date(this.focusDay);n.setDate(n.getDate()+1);this.moveFocusToDay(n)};DatePicker.prototype.moveFocusToNextWeek=function(){var n=new Date(this.focusDay);n.setDate(n.getDate()+7);this.moveFocusToDay(n)};DatePicker.prototype.moveFocusToPreviousDay=function(){var n=new Date(this.focusDay);n.setDate(n.getDate()-1);this.moveFocusToDay(n)};DatePicker.prototype.moveFocusToPreviousWeek=function(){var n=new Date(this.focusDay);n.setDate(n.getDate()-7);this.moveFocusToDay(n)};DatePicker.prototype.moveFocusToFirstDayOfWeek=function(){var n=new Date(this.focusDay);n.setDate(n.getDate()-n.getDay());this.moveFocusToDay(n)};DatePicker.prototype.moveFocusToLastDayOfWeek=function(){var n=new Date(this.focusDay);n.setDate(n.getDate()+(6-n.getDay()));this.moveFocusToDay(n)};DatePicker.prototype.setTextboxDate=function(n){n?this.dateInput.setDate(n):this.dateInput.setDate(this.focusDay)};DatePicker.prototype.getDateInput=function(){var n=this.dateInput.getDate().split("/");3===n.length&&Number.isInteger(parseInt(n[0]))&&Number.isInteger(parseInt(n[1]))&&Number.isInteger(parseInt(n[2]))?(this.focusDay=new Date(parseInt(n[2]),parseInt(n[0])-1,parseInt(n[1])),this.selectedDay=new Date(this.focusDay)):(this.focusDay=new Date,this.selectedDay=new Date(0,0,1))};DatePicker.prototype.getDateForButtonLabel=function(n,t,i){this.selectedDay="number"!=typeof n||"number"!=typeof t||"number"!=typeof i?this.focusDay:new Date(n,t,i);var r=this.dayLabels[this.selectedDay.getDay()];return r+=" "+this.monthLabels[this.selectedDay.getMonth()],r+=" "+this.selectedDay.getDate(),r+(", "+this.selectedDay.getFullYear())};DatePicker.prototype.setMessage=function(n){n!==this.lastMessage&&(setTimeout(function(){this.messageNode.textContent=n}.bind(this),200),this.lastMessage=n)};Number.isInteger=Number.isInteger||function(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n};DatePickerDay=function(n,t,i,r,u){this.index=i;this.row=r;this.column=u;this.day=new Date;this.domNode=n;this.accessibledatepicker=t;this.keyCode=Object.freeze({TAB:9,ENTER:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40})};DatePickerDay.prototype.init=function(){this.domNode.setAttribute("tabindex","-1");this.domNode.setAttribute("type","button");this.domNode.addEventListener("mousedown",this.handleMouseDown.bind(this));this.domNode.addEventListener("keydown",this.handleKeyDown.bind(this));this.domNode.addEventListener("focus",this.handleFocus.bind(this));this.domNode.innerHTML="-1"};DatePickerDay.prototype.isDisabled=function(){return this.domNode.classList.contains("disabled")};DatePickerDay.prototype.updateDay=function(n,t){var i,r;n?this.domNode.classList.add("disabled"):this.domNode.classList.remove("disabled");this.day=new Date(t);this.domNode.innerHTML=this.day.getDate();this.domNode.setAttribute("tabindex","-1");this.domNode.removeAttribute("aria-selected");i=this.day.getDate().toString();this.day.getDate()<9&&(i="0"+i);r=this.day.getMonth()+1;this.day.getMonth()<9&&(r="0"+r);this.domNode.setAttribute("data-date",this.day.getFullYear()+"-"+r+"-"+i)};DatePickerDay.prototype.handleKeyDown=function(n){var t=!1,f=new Date(this.day),i,r,u;f.setDate(this.day.getDate()-1);i=new Date(this.day);i.setDate(this.day.getDate()+1);r=new Date(this.day);r.setDate(this.day.getDate()-7);u=new Date(this.day);switch(u.setDate(this.day.getDate()+7),n.keyCode){case this.keyCode.ESC:this.accessibledatepicker.hide();break;case this.keyCode.TAB:this.accessibledatepicker.cancelButtonNode.focus();n.shiftKey&&this.accessibledatepicker.selectYear.focus();this.accessibledatepicker.setMessage("");t=!0;break;case this.keyCode.ENTER:case this.keyCode.SPACE:this.isDisabled()&&this.day>this.accessibledatepicker.dateInput.minDate&&this.day<this.accessibledatepicker.dateInput.maxDate?this.accessibledatepicker.moveFocusToDay(this.day):!this.isDisabled()||this.day>this.accessibledatepicker.dateInput.minDate&&this.day<this.accessibledatepicker.dateInput.maxDate?(this.accessibledatepicker.setTextboxDate(this.day),this.accessibledatepicker.hide(),t=!0):this.accessibledatepicker.setMessage("ES"==document.documentElement.lang.toUpperCase()?"Se alcanzó el límite de fechas disponibles.":"Reached limit of available dates.");break;case this.keyCode.RIGHT:i<this.accessibledatepicker.dateInput.minDate||i>this.accessibledatepicker.dateInput.maxDate?this.accessibledatepicker.setMessage("ES"==document.documentElement.lang.toUpperCase()?"Se alcanzó el límite de fechas disponibles.":"Reached limit of available dates."):(this.accessibledatepicker.moveFocusToNextDay(),t=!0);break;case this.keyCode.LEFT:f<this.accessibledatepicker.dateInput.minDate||f>this.accessibledatepicker.dateInput.maxDate?this.accessibledatepicker.setMessage("ES"==document.documentElement.lang.toUpperCase()?"Se alcanzó el límite de fechas disponibles.":"Reached limit of available dates."):(this.accessibledatepicker.moveFocusToPreviousDay(),t=!0);break;case this.keyCode.DOWN:u<this.accessibledatepicker.dateInput.minDate||u>this.accessibledatepicker.dateInput.maxDate?this.accessibledatepicker.setMessage("ES"==document.documentElement.lang.toUpperCase()?"Se alcanzó el límite de fechas disponibles.":"Reached limit of available dates."):(this.accessibledatepicker.moveFocusToNextWeek(),t=!0);break;case this.keyCode.UP:r<this.accessibledatepicker.dateInput.minDate||r>this.accessibledatepicker.dateInput.maxDate?this.accessibledatepicker.setMessage("ES"==document.documentElement.lang.toUpperCase()?"Se alcanzó el límite de fechas disponibles.":"Reached limit of available dates."):(this.accessibledatepicker.moveFocusToPreviousWeek(),t=!0);break;case this.keyCode.PAGEUP:n.shiftKey?this.accessibledatepicker.moveToPreviousYear():this.accessibledatepicker.moveToPreviousMonth();t=!0;break;case this.keyCode.PAGEDOWN:n.shiftKey?this.accessibledatepicker.moveToNextYear():this.accessibledatepicker.moveToNextMonth();t=!0;break;case this.keyCode.HOME:this.accessibledatepicker.moveFocusToFirstDayOfWeek();t=!0;break;case this.keyCode.END:this.accessibledatepicker.moveFocusToLastDayOfWeek();t=!0}t&&(n.stopPropagation(),n.preventDefault())};DatePickerDay.prototype.handleMouseDown=function(n){this.isDisabled()&&this.day>this.accessibledatepicker.dateInput.minDate&&this.day<this.accessibledatepicker.dateInput.maxDate?this.accessibledatepicker.moveFocusToDay(this.day):!this.isDisabled()||this.day>this.accessibledatepicker.dateInput.minDate&&this.day<this.accessibledatepicker.dateInput.maxDate?(this.accessibledatepicker.setTextboxDate(this.day),this.accessibledatepicker.hide()):this.accessibledatepicker.setMessage("ES"==document.documentElement.lang.toUpperCase()?"Se alcanzó el límite de fechas disponibles.":"Reached limit of available dates.");n.stopPropagation();n.preventDefault()};DatePickerDay.prototype.handleFocus=function(){this.accessibledatepicker.setMessage(this.accessibledatepicker.messageCursorKeys)};DatePicker=DatePicker||{};CalendarButtonInput=function(n,t,i,r){this.inputNode=n;this.inputNodeFormat=t;this.inputFormatDescriptionText="Enter the month, day, and year in mm/dd/yyyy format.";this.inputNodeFormat.innerHTML=this.inputFormatDescriptionText;this.inputNode.setAttribute("aria-describedby",this.inputNodeFormat.id);this.minDate=new Date(void 0===$(this.inputNode).attr("data-date-start-date")?"01/01/1900":$(this.inputNode).attr("data-date-start-date"));this.maxDate=new Date(void 0===$(this.inputNode).attr("data-date-end-date")?"12/31/2099":$(this.inputNode).attr("data-date-end-date"));$(this.inputNode).inputmask("datetime",{inputFormat:"mm/dd/yyyy",min:AccessibleCalendarFormatDate(this.minDate),max:AccessibleCalendarFormatDate(this.maxDate),showMaskOnHover:!0,showMaskOnFocus:!0});this.defaultLabel="ES"==document.documentElement.lang.toUpperCase()?"Seleccione una fecha":"Choose a Date";this.buttonNode=i;this.buttonNode.setAttribute("aria-label",this.defaultLabel);(this.inputNode.disabled||this.inputNode.readOnly)&&(this.buttonNode.disabled=!0);this.imageNode=!1;this.accessibledatepicker=r;this.keyCode=Object.freeze({ENTER:13,SPACE:32})};CalendarButtonInput.prototype.init=function(){new MutationObserver(this.aCallback).observe(this.inputNode,{attributes:!0});this.buttonNode.addEventListener("click",this.handleClick.bind(this));this.buttonNode.addEventListener("keydown",this.handleKeyDown.bind(this));this.buttonNode.addEventListener("focus",this.handleFocus.bind(this))};CalendarButtonInput.prototype.handleKeyDown=function(n){var t=!1;switch(n.keyCode){case this.keyCode.SPACE:case this.keyCode.ENTER:this.accessibledatepicker.show();this.accessibledatepicker.setFocusDay();this.accessibledatepicker.selectMonth.value=this.accessibledatepicker.focusDay.getMonth();this.accessibledatepicker.selectYear.value=this.accessibledatepicker.focusDay.getFullYear();t=!0}t&&(n.stopPropagation(),n.preventDefault())};CalendarButtonInput.prototype.handleClick=function(){this.accessibledatepicker.isOpen()?this.accessibledatepicker.hide():(this.accessibledatepicker.show(),this.accessibledatepicker.setFocusDay(),this.accessibledatepicker.selectMonth.value=this.accessibledatepicker.focusDay.getMonth(),this.accessibledatepicker.selectYear.value=this.accessibledatepicker.focusDay.getFullYear());event.stopPropagation();event.preventDefault()};CalendarButtonInput.prototype.setLabel=function(n){"string"==typeof n&&n.length&&(n=", "+n);this.buttonNode.setAttribute("aria-label",this.defaultLabel+n)};CalendarButtonInput.prototype.setFocus=function(){this.buttonNode.focus()};CalendarButtonInput.prototype.setDate=function(n){this.inputNode.value=AccessibleCalendarFormatDate(n)};CalendarButtonInput.prototype.getDate=function(){return this.inputNode.value};CalendarButtonInput.prototype.getDateLabel=function(){var t="",n=this.inputNode.value.split("/");if(3===n.length&&Number.isInteger(parseInt(n[0]))&&Number.isInteger(parseInt(n[1]))&&Number.isInteger(parseInt(n[2]))){var i=parseInt(n[0])-1,r=parseInt(n[1]),u=parseInt(n[2]);t=this.accessibledatepicker.getDateForButtonLabel(u,i,r)}return t};CalendarButtonInput.prototype.handleFocus=function(){var n=this.getDateLabel();n?this.setLabel("ES"==document.documentElement.lang.toUpperCase()?". La fecha seleccionada es "+n:". The selected date is "+n):this.setLabel("")};CalendarButtonInput.prototype.aCallback=function(n){for(var i,t=0;t<n.length;t++)"attributes"===n[t].type&&(i=n[t].target.id+"_datepicker_button",document.getElementById(i).disabled=n[t].target.disabled||n[t].target.readOnly?!0:!1)};$(document).ready(function(){for(var n,i=document.querySelectorAll(".accessible-datepicker:not(.initialized)"),t=0;t<i.length;t++){n=i[t];n.classList.add("initialized");var r=n.querySelector("input"),u=n.querySelector(".formatDesc"),f=n.querySelector("button"),e=n.querySelector("[role=dialog]");new DatePicker(r,u,f,e).init()}})